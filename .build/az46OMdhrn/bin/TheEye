#!/usr/bin/perl -Ilib

# ABSTRACT: the script that runs TheEye
# PODNAME: bin/TheEye.pod
our $VERSION = '0.8'; # VERSION

use strict;
use warnings;
use TheEye;
use Data::Dumper;

my $testdir = shift || 'share/TheEye/t';

my $mon = TheEye->new(debug=> 1, test_dir => $testdir);
$mon->debug(1);
#$mon->load_plugin('Store::RRD');
#$mon->load_plugin('Store::Collectd');
$mon->load_plugin('Store::Riemann');
#$mon->load_plugin('Graph::RRD');
$mon->load_plugin('Notify::Oncall');
$mon->oncall_token('da860dcc8ab87f28a50282bbe800f5ec');
#$mon->rrd_dir('rrds/');
#$mon->img_dir('images/');
#$mon->prowl_apikeys(['XXXXXXXXXXXXXXXXXXXXXXX']);
$mon->oncall_host($mon->hostname);
my $results;
@{$results} = $mon->run();
$mon->save($results);
#$mon->graph($results);
#$mon->notify($results);

#print Dumper($results);

__END__

=pod

=head1 NAME

bin/TheEye.pod - the script that runs TheEye

=head1 VERSION

version 0.8

=head1 AUTHOR

Lenz Gschwendtner <lenz@springtimesoft.com>

=head1 COPYRIGHT AND LICENSE

This software is copyright (c) 2013 by springtimesoft LTD.

This is free software; you can redistribute it and/or modify it under
the same terms as the Perl 5 programming language system itself.

=cut
